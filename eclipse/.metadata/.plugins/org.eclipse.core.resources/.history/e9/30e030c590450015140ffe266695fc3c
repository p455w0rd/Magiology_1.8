package com.magiology.api.power;

import com.magiology.objhelper.helpers.Helper;

import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.ItemStack;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.BlockPos;
import net.minecraft.world.World;

public interface PowerCore{
	/**Keep it short! The shorter it is less bandwidth it takes!*/
	public static final String SAVE_TO_ITEM_PREFIX="M_PC_ITEM";
	
	public int getCurrentEnergy();
	public int getMaxTSpeed();
	public int getMiddleTSpeed();
	public int getMinTSpeed();
	public int getMaxEnergyBuffer();
	public int getModedMaxEnergyBuffer();
	public int getModedMaxTSpeed();
	public boolean isPowerKeptOnWrench();
	
	public void setCurrentEnergy(int Int);
	public void setMaxTSpeed(int Int);
	public void setMiddleTSpeed(int Int);
	public void setMinTSpeed(int Int);
	public void setMaxEnergyBuffer(int Int);
	public void setModedMaxEnergyBuffer(int Int);
	public void setModedMaxTSpeed(int Int);
	
	public void addEnergy(int amount);
	public void subtractEnergy(int amount);
	
	public static class SavePowerToItemEvents{
		
		public static void onPowerCoreWrenched(BlockPos pos, EntityPlayer player, World world){
			
		}
		
		public static void onPowerCorePlaced(BlockPos pos, EntityPlayer player, World world){
			TileEntity tile=world.getTileEntity(pos);
			ItemStack itemInHand=player.getCurrentEquippedItem();
			Helper.printInln("Tile is"+(tile instanceof PowerCore?"":"n't"),"a PowerCore and the itemstack",(e.itemInHand.hasTagCompound()&&e.itemInHand.getTagCompound().hasKey("energy")?"contains":"does not contain"),"energy. The power was"+(tile instanceof PowerCore&&e.itemInHand.hasTagCompound()&&e.itemInHand.getTagCompound().hasKey("energy")?"":"n't"),"injected in to the tile");
			if(tile instanceof PowerCore&&itemInHand.hasTagCompound()&&itemInHand.getTagCompound().hasKey("energy")){
				((PowerCore)tile).setCurrentEnergy(itemInHand.getTagCompound().getInteger("energy"));
			}
		}
	}
}
