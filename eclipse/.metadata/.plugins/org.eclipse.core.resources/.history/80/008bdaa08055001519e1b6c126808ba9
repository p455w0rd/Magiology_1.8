package com.magiology.gui.guiContainer;

import org.apache.commons.lang3.ArrayUtils;

import net.minecraft.enchantment.Enchantment;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.inventory.Container;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagList;

import com.magiology.core.init.MItems;
import com.magiology.mcobjects.tileentityes.hologram.TileEntityHologramProjector;
import com.magiology.util.utilclasses.Helper;

public class GuiHologramProjectorMainContainer extends Container {
	
	EntityPlayer player;
	TileEntityHologramProjector tile;
	
	public GuiHologramProjectorMainContainer(EntityPlayer player, TileEntityHologramProjector tile){
		this.player=player;
		this.tile=tile;
	}

	@Override
	public boolean canInteractWith(EntityPlayer player){
		return Helper.getEntityPos(player).distanceTo(tile.getPos())<20;
	}
	
	public Enchantment[] getEnchantments(ItemStack stack){
		Enchantment[] result={};
		NBTTagList nbttaglist=stack.getEnchantmentTagList();
		
        if(nbttaglist==null){
            for(int j=0;j<nbttaglist.tagCount();++j){
                short id=nbttaglist.getCompoundTagAt(j).getShort("id");
                Enchantment enchantment=Enchantment.getEnchantmentById(id);
                if(enchantment!=null){
                	result=ArrayUtils.add(result, enchantment);
                }
            }
        }
        return result;
	}
	
}
