package com.magiology.handelers.shaders;

import org.lwjgl.util.vector.Vector2f;

import com.magiology.core.init.MEvents;
import com.magiology.handelers.shaders.core.ShaderAspectHandeler;
import com.magiology.handelers.shaders.core.ShaderUniformEditor;
import com.magiology.modedmcstuff.AdvancedPhysicsFloat;
import com.magiology.modedmcstuff.ColorF;
import com.magiology.objhelper.helpers.Cricle;
import com.magiology.objhelper.helpers.Helper;

public class BlurHandeler extends ShaderAspectHandeler{
	public static BlurHandeler instance;
	
	public AdvancedPhysicsFloat x,y;
	
	public BlurHandeler(){
		super("BlurM",0,"BlurDir");
		instance=this;
		x=new AdvancedPhysicsFloat(1, 0.05F);
		y=new AdvancedPhysicsFloat(0, 0.05F);
		x.friction=0.9F;
		y.friction=0.9F;
	}
	
	@Override
	public void update(){
		init(MEvents.shaderHandeler);
		x.update();
		y.update();
		if(world.getTotalWorldTime()%10==0){
			float rotation=Helper.RF(360);
			x.wantedPoint=Cricle.sin(rotation);
			y.wantedPoint=Cricle.cos(rotation);
		}
	}
	
	@Override
	public void redner(){
		ShaderUniformEditor.setUniform(uniforms.get(0), x.getPoint(),y.getPoint());
	}
	
	@Override
	public boolean getConditionForActivation(){
		return player.isSneaking();
	}
}
