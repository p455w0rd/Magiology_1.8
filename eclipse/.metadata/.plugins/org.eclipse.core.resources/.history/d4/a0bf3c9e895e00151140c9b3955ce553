package com.magiology.render.tilerender.hologram;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import net.minecraft.client.gui.GuiTextField;
import net.minecraft.client.gui.inventory.GuiContainer;
import net.minecraft.inventory.Container;

import org.lwjgl.opengl.Display;

import com.magiology.util.utilclasses.Util.U;

public class GuiContainerM extends GuiContainer{
	
	public List<GuiTextField> textFieldList=new ArrayList<GuiTextField>();
	private int lastx,lasty,size;
	public GuiContainerM(Container container){
		super(container);
	}
	
	@Override
	protected void drawGuiContainerBackgroundLayer(float partialTicks, int mouseX, int mouseY){
		if(size==0)size=textFieldList.size();
		if(lastx!=Display.getWidth()||lasty!=Display.getHeight()){
			lastx=Display.getWidth();lasty=Display.getHeight();
			if(size!=0){
				List<GuiTextField> new1=new ArrayList<GuiTextField>();
				for(int i=size;i<size*2;i++){
					new1.add(textFieldList.get(i));
				}
				textFieldList.clear();
				for(GuiTextField textField:new1){
					textFieldList.add(textField);
				}
			}
		}
		U.printInln(textFieldList.size());
		for(GuiTextField textField:textFieldList)textField.drawTextBox();
	}
	
	@Override
	protected void keyTyped(char typedChar, int keyCode) throws IOException{
		boolean next=true;
		for(GuiTextField textField:textFieldList){
			if(next)next=!textField.textboxKeyTyped(typedChar, keyCode);
			else break;
		}
		if(next)super.keyTyped(typedChar, keyCode);
	}
	
	@Override
	protected void mouseClicked(int mouseX, int mouseY, int mouseButton)throws IOException{
		super.mouseClicked(mouseX, mouseY, mouseButton);
		for(GuiTextField textField:textFieldList)textField.mouseClicked(mouseX, mouseY, mouseButton);
	}
	@Override
	public void onGuiClosed(){
		textFieldList.clear();
		super.onGuiClosed();
	}
}
