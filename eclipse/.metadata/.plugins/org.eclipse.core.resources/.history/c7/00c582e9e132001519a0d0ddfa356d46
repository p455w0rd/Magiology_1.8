package com.magiology.handelers.shaders;

import net.minecraft.util.ResourceLocation;

import com.magiology.handelers.shaders.core.ShaderAspectHandeler;
import com.magiology.handelers.shaders.core.ShaderUniformEditor;
import com.magiology.objhelper.helpers.Helper;

public class ColorHandeler extends ShaderAspectHandeler{
	public float r=1,g=1,b=1,rPrev=1,gPrev=1,bPrev=1;
	public static ColorHandeler instance;
	
	public ColorHandeler(){
		super("blurM",0,"color");
		instance=this;
	}
	
	@Override
	public void update(){
		rPrev=r;
		gPrev=g;
		bPrev=b;
		r=Helper.fluctuatorSmooth(3, 78)*0.5F+0.5F;
		g=Helper.fluctuatorSmooth(7, 752)*0.5F+0.5F;
		b=Helper.fluctuatorSmooth(5, 0)*0.5F+0.5F;
//		r=g=b=1;
	}
	
	@Override
	public void redner(){
		ShaderUniformEditor.setUniform(uniforms.get(0), Helper.calculateRenderPos(rPrev, r),Helper.calculateRenderPos(gPrev, g),Helper.calculateRenderPos(bPrev, b));
	}
	
	@Override
	public boolean getConditionForActivation(){
		return player.isSneaking()||true;
	}
}
