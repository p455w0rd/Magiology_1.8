package com.magiology.forgepowered.event;

import java.lang.reflect.Constructor;

import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.renderer.texture.TextureAtlasSprite;
import net.minecraft.client.resources.model.IBakedModel;
import net.minecraft.client.resources.model.ModelResourceLocation;
import net.minecraft.util.ResourceLocation;
import net.minecraftforge.client.event.MouseEvent;
import net.minecraftforge.client.model.IFlexibleBakedModel.Wrapper;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.relauncher.Side;
import net.minecraftforge.fml.relauncher.SideOnly;

import com.magiology.gui.fpgui.WingModeChangerGui;
import com.magiology.handelers.animationhandelers.WingsFromTheBlackFireHandeler;
import com.magiology.objhelper.DataStalker;
import com.magiology.objhelper.Get;
import com.magiology.objhelper.helpers.Helper;

@SideOnly(value=Side.CLIENT)
public class MouseEvents{
	
	public void roll(MouseEvent event, int direction){
		//switch scrolling to WingModeChangerGui
		if(direction==1)WingModeChangerGui.instance.next();
		else WingModeChangerGui.instance.prev();
		if(!(!GuiScreen.isCtrlKeyDown()||!WingsFromTheBlackFireHandeler.getIsActive(Helper.getThePlayer())))event.setCanceled(true);
		
		
		
		IBakedModel baseModel=Get.Render.RI().getItemModelMesher().getModelManager().getModel(new ModelResourceLocation("apple"));
		
		if(baseModel instanceof Wrapper){
//			Helper.printInln(baseModel);
			IBakedModel raw=DataStalker.getVariable(Wrapper.class, "parent", baseModel);
//			Helper.printInln(DataStalker.getVariable(SimpleBakedModel.class, "texture", raw));
//			TextureAtlasSprite.makeAtlasSprite(null);
			try {
				
				
				
				
			} catch (Exception e){
				e.printStackTrace();
			}
		}
//		new IFlexibleBakedModel.Wrapper(new SimpleBakedModel(generalQuads, faceQuads, ambientOcclusion, gui3d, texture, cameraTransforms), new VertexFormat());
		
	}
	public void mouseInput(MouseEvent event, int id){
		if(id==-1)return;
		
	}
	
	
	//caller
	@SubscribeEvent
	public void startMouseInput(MouseEvent event){
		mouseInput(event,event.button);
		int roll=event.dwheel;if(roll==0)return;
		int negative=roll<0?-1:1;roll*=negative;
		for(int a=120;a<=roll;a+=120)roll(event,negative);
		
	}
}
