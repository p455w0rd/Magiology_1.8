package com.magiology.handelers.web;

import static com.magiology.core.MReference.*;

import java.net.URL;
import java.util.Scanner;


public class DownloadingHandeler{
	public static void downladAssets(){
		MediaFireDownlader.downlad(MODS_SUBFOLDER_WIN_GUI+"/Close.wav",  "http://download1370.mediafire.com/io8t542oobgg/5psc9ipik0uk96y/Close.wav");
		MediaFireDownlader.downlad(MODS_SUBFOLDER_WIN_GUI+"/Loaded.wav", "http://ge.tt/api/1/files/7cGVjlM2/0/blob?download");
		MediaFireDownlader.downlad(MODS_SUBFOLDER_WIN_GUI+"/MagiZip.zip","http://ge.tt/api/1/files/7cGVjlM2/1/blob?download");
		MediaFireDownlader.downlad(MODS_SUBFOLDER_WIN_GUI+"/OpenUp.wav", "http://ge.tt/api/1/files/7cGVjlM2/2/blob?download");
	}
	public static void downloadUpdater(){
		MediaFireDownlader.downlad(UPDATER_DIR, "http://ge.tt/api/1/files/7cGVjlM2/9/blob?download");
	}
	
	public static String findValue(String tag){
		try{
			URL url=new URL("https://raw.githubusercontent.com/LapisSea/Magiology_1.8/master/src/main/java/com/magiology/core/MReference.java");
			Scanner s=new Scanner(url.openStream());
			String value=null;
			try{
				s.findWithinHorizon(tag+"=", 9999);
				value=s.next();
				value=value.substring(1, value.length()-2);
			}catch(Exception e){}
			s.close();
			return value;
		}catch(Exception ex){}
		return null;
	}
//	public static void downloadAndSaveToDisc(String fileName,String URL){
//		try{
//			String folder="";
//			for(String i:fileName.split("/"))folder+=i+"/";
//			new File(folder).mkdir();
//			
//			
//			URL url = new URL(URL);
//			URLConnection urlCon = url.openConnection();
//			InputStream is = urlCon.getInputStream();
//			FileOutputStream fos = new FileOutputStream(fileName);
//			byte[] buffer = new byte[1000];         
//			int bytesRead = is.read(buffer);
//			while (bytesRead > 0){
//				fos.write(buffer, 0, bytesRead);
//				bytesRead = is.read(buffer);
//			}
//			is.close();
//			fos.close();
//		}catch(Exception e){
//			e.printStackTrace();
//		}
//	}
}
