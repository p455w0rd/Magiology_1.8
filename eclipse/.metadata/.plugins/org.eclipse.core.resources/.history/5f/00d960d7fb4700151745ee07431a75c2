package com.magiology.core;

import java.io.IOException;
import java.net.URL;
import java.util.Scanner;

import com.magiology.objhelper.helpers.Helper;
import com.mojang.realmsclient.gui.ChatFormatting;

public class UpdateChecker{
	private static String currentVersion=MReference.VERSION;
	private static String newestVersion;
	
	public static String updateStatus="NULL";
	public static Boolean show=false;
	
	public static void init(){
		getNewestVersion();
		if(newestVersion!=null){
			show=true;
			if(newestVersion.equalsIgnoreCase(currentVersion))updateStatus = MReference.NAME+" is up to date";
			else updateStatus=ChatFormatting.AQUA + "["+MReference.NAME+"] " + ChatFormatting.GREEN + ChatFormatting.ITALIC + "There's a newer Version of the Mod " + ChatFormatting.GOLD + "[" + ChatFormatting.AQUA + newestVersion + ChatFormatting.GOLD + "]";
		}
	}
	
	private static void getNewestVersion(){
		try{
			URL url=new URL("https://raw.githubusercontent.com/DrShadow/TechProject/master/version/version.txt");
			Scanner s=new Scanner(url.openStream());
			
			newestVersion = s.next();
			
			s.close();
		}
		catch (IOException ex){
			Helper.printlnEr(MReference.NAME+" has failed to check for updates");
		}
	}
}